# 蓝山招聘系统项目梳理文档

## 一、项目概述

### 1.1 项目基本信息
- **项目名称**：蓝山招聘系统
- **技术栈**：ThinkPHP 5 + FastAdmin + 微信小程序
- **项目目录**：`zhaopin.zzlanshan.site_f5FFR`

### 1.2 项目架构
```
├── zhaopin.zzlanshan.site_f5FFR/
│   ├── addons/              # 插件目录
│   │   └── zpwxsys/        # 招聘微信系统核心插件 ⭐
│   ├── application/         # 应用目录
│   │   ├── admin/          # 后台管理
│   │   ├── api/            # API接口
│   │   ├── common/         # 公共模块
│   │   └── index/          # 前台模块
│   ├── public/             # 公共资源
│   │   ├── assets/         # 静态资源
│   │   └── uploads/        # 上传文件
│   ├── thinkphp/           # ThinkPHP框架核心
│   ├── vendor/             # Composer依赖
│   └── runtime/            # 运行时缓存
```

---

## 二、核心插件目录结构 (zpwxsys)

### 2.1 后端结构
```
zpwxsys/
├── config/                 # 配置文件
│   ├── config.php         # 插件配置
│   └── menu.php           # 后台菜单配置
├── controller/            # 控制器
│   ├── v1/               # API v1版本
│   │   ├── Login.php     # 登录
│   │   ├── Token.php     # Token验证
│   │   ├── User.php      # 用户
│   │   ├── Company.php   # 企业
│   │   ├── Job.php       # 职位
│   │   ├── Jobpart.php   # 兼职职位
│   │   ├── Baoming.php   # 报名
│   │   ├── Task.php      # 任务
│   │   ├── Order.php     # 订单
│   │   ├── Pay.php       # 支付
│   │   ├── Active.php    # 活动
│   │   ├── News.php      # 资讯
│   │   ├── Note.php      # 留言/笔记
│   │   ├── Banner.php    # 轮播图
│   │   ├── City.php      # 城市
│   │   ├── Agent.php     # 代理
│   │   ├── Fxsys.php     # 分销
│   │   ├── Comment.php   # 评论
│   │   ├── Lookrole.php  # 查看角色
│   │   └── ...           # 其他控制器
│   └── Index.php         # 入口控制器
├── model/                # 模型
│   ├── User.php          # 用户模型
│   ├── Company.php       # 企业模型
│   ├── Job.php           # 职位模型
│   ├── Jobpart.php       # 兼职职位模型
│   ├── Baoming.php       # 报名模型
│   ├── Task.php          # 任务模型
│   ├── Order.php         # 订单模型
│   ├── Comment.php       # 评论模型
│   ├── News.php          # 资讯模型
│   ├── Active.php        # 活动模型
│   └── ...               # 其他模型
├── service/              # 服务层
├── library/              # 类库
│   └── WxPay/           # 微信支付
├── validate/             # 验证器
│   ├── BaseValidate.php  # 基础验证器
│   ├── TokenGet.php      # Token验证
│   └── ...              # 其他验证器
└── wxapp/               # 微信小程序前端 ⭐
```

### 2.2 小程序结构
```
wxapp/
├── pages/                # 页面目录
│   ├── index/           # 首页
│   ├── findjob/         # 找工作
│   ├── findworker/      # 找工人
│   ├── my/              # 个人中心
│   ├── login/           # 登录
│   ├── register/        # 注册
│   ├── companylogin/    # 企业登录
│   ├── companyregister/ # 企业注册
│   ├── companycenter/   # 企业中心
│   ├── companydetail/   # 企业详情
│   ├── jobdetail/       # 职位详情
│   ├── jobpartdetail/   # 兼职详情
│   ├── baoming/         # 报名
│   ├── mybaoming/       # 我的报名
│   ├── tasklist/        # 任务列表
│   ├── taskdetail/      # 任务详情
│   ├── mytasklist/      # 我的任务
│   ├── notecenter/      # 留言中心
│   ├── sysmsg/          # 系统消息
│   ├── mycomment/       # 我的评论
│   ├── mymoney/         # 我的钱包
│   ├── mysave/          # 我的收藏
│   ├── mynote/          # 我的发布
│   ├── myteam/          # 我的团队
│   ├── agentcenter/     # 代理中心
│   ├── active/          # 活动
│   ├── activedetail/    # 活动详情
│   └── ...              # 其他页面
├── model/               # 数据模型
├── utils/               # 工具类
├── colorui/             # ColorUI组件库
├── imgs/                # 图片资源
├── app.js               # 小程序入口
├── app.json             # 小程序配置
└── app.wxss             # 全局样式
```

---

## 三、核心功能模块

### 3.1 用户模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 用户登录 | Login.php | User.php | login |
| 用户注册 | Login.php | User.php | register |
| 个人中心 | - | User.php | my |
| 用户信息 | Token.php | User.php | user |
| 切换角色 | - | - | switchrole |

### 3.2 企业模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 企业注册 | Company.php | Company.php | companyregister |
| 企业登录 | Company.php | Company.php | companylogin |
| 企业中心 | Company.php | Company.php | companycenter |
| 企业详情 | Company.php | Company.php | companydetail |
| 编辑企业 | Company.php | Company.php | editcompany |
| 发布职位 | Job.php | Job.php | addcompanyjob |
| 职位管理 | Job.php | Job.php | companyjob |

### 3.3 职位模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 职位列表 | Job.php | Job.php | findjob |
| 职位详情 | Job.php | Job.php | jobdetail |
| 兼职列表 | Jobpart.php | Jobpart.php | partjob |
| 兼职详情 | Jobpart.php | Jobpart.php | jobpartdetail |
| 职位搜索 | Job.php | Job.php | searchjob |
| 分类职位 | Job.php | Job.php | typejoblist |

### 3.4 报名模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 报名职位 | Baoming.php | Baoming.php | baoming |
| 我的报名 | Baoming.php | Baoming.php | mybaoming/myfind |
| 报名记录 | Baoming.php | Baoming.php | - |

### 3.5 任务模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 任务列表 | Task.php | Task.php | tasklist |
| 任务详情 | Task.php | Task.php | taskdetail |
| 发布任务 | Task.php | Task.php | addtask/sendtask |
| 我的任务 | Task.php | Task.php | mytasklist |
| 任务接单 | Task.php | Taskrecord.php | taskjob |

### 3.6 消息模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 系统消息 | Sysmsg.php | Sysmsg.php | sysmsg |
| 留言中心 | Note.php | Note.php | notecenter |
| 在线客服 | - | - | - |

### 3.7 评价模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 评价功能 | Comment.php | Comment.php | setcomment |
| 我的评价 | Comment.php | Comment.php | mycomment |

### 3.8 支付模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 订单创建 | Order.php | Order.php | sendorder |
| 订单详情 | Order.php | Order.php | sendorderdetail |
| 微信支付 | Pay.php | Order.php | - |
| 钱包余额 | - | Money.php | mymoney |
| 余额明细 | - | Money.php | mymoneyrecord |

### 3.9 代理分销模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 代理中心 | Agent.php | Agent.php | agentcenter |
| 我的团队 | Agent.php | Fxrecord.php | myteam |
| 分销记录 | Fxsys.php | Fxrecord.php | agentfxrecord |
| 邀请好友 | - | Invaterecord.php | myinvate |

### 3.10 活动模块
| 功能 | 控制器 | 模型 | 小程序页面 |
|------|--------|------|------------|
| 活动列表 | Active.php | Active.php | active |
| 活动详情 | Active.php | Active.php | activedetail |
| 活动报名 | Active.php | Activerecord.php | payactive |

---

## 四、数据库模型清单

### 4.1 核心模型
| 模型文件 | 说明 |
|---------|------|
| User.php | 用户信息 |
| Company.php | 企业信息 |
| Companyrole.php | 企业角色 |
| Companyrecord.php | 企业记录 |
| Job.php | 职位信息 |
| Jobpart.php | 兼职职位 |
| Jobcate.php | 职位分类 |
| Jobrecord.php | 职位记录 |
| Jobprice.php | 职位价格 |
| Jobsave.php | 职位收藏 |
| Baoming.php | 报名信息 |

### 4.2 任务相关
| 模型文件 | 说明 |
|---------|------|
| Task.php | 任务信息 |
| Taskrecord.php | 任务记录 |

### 4.3 订单支付
| 模型文件 | 说明 |
|---------|------|
| Order.php | 订单信息 |
| OrderProduct.php | 订单商品 |
| Money.php | 钱包余额 |

### 4.4 内容相关
| 模型文件 | 说明 |
|---------|------|
| News.php | 资讯文章 |
| Note.php | 留言/笔记 |
| Looknote.php | 笔记查看 |
| Comment.php | 评价评论 |
| Notice.php | 公告通知 |
| Banner.php | 轮播图 |
| Active.php | 活动 |

### 4.5 其他
| 模型文件 | 说明 |
|---------|------|
| City.php | 城市 |
| Areainfo.php | 区域信息 |
| Worktype.php | 工作类型 |
| Edu.php | 学历 |
| Express.php | 工作经验 |
| Agent.php | 代理商 |
| Fxrecord.php | 分销记录 |
| Invaterecord.php | 邀请记录 |
| Lookrole.php | 查看角色 |
| Lookrolerecord.php | 查看角色记录 |

---

## 五、新需求功能分析

### 5.1 功能页面需求
位置：`功能页面/`

| 功能 | 文件 | 说明 | 状态 |
|------|------|------|------|
| 评价功能 | 评价.png | 用户对职位/企业的评价 | 待开发 |
| 签到表 | 签到表.png | 考勤签到功能 | 待开发 |
| 群聊 | 群聊png.png | 群组聊天功能 | 待开发 |
| 我的报名 | 我的报名.png | 查看报名记录 | 待开发 |
| 我的发布 | 我的发布.png | 查看发布的职位/任务 | 待开发 |
| 我的名片 | 我的名片.png | 电子名片功能 | 待开发 |
| 我的收藏 | 我的收藏.png | 收藏的职位/企业 | 待开发 |

### 5.2 图标资源
位置：`功能页面/图标/`
- 电话.png
- 收藏.png（已收藏/未收藏）

---

## 六、终版UI设计

### 6.1 主要页面设计
位置：`终/`

| 页面 | 文件 | 说明 |
|------|------|------|
| 首页 | 1首页.png | 小程序首页设计 |
| 找活页 | 2找活页.png | 求职/招聘列表页 |
| 消息 | 3消息.png | 消息中心页面 |
| 我的 | 4我的.png | 个人中心页面 |
| 岗位详情 | 岗位详情.png | 职位详情页 |

### 6.2 图标资源
#### 图标（主要功能）
位置：`终/图标/`
- 1餐厅服务.png
- 2活动执行.png
- 3安保检票.png
- 4教育辅导.png
- 5群众演员.png
- 6临时促销.png
- 7电商推广.png
- 8问卷调查.png
- 9物流配送.png
- 10装卸搬运.png
- 11家政服务.png
- 12流水线工.png
- 13手工制作.png
- 14内容创作.png
- 15校园专属.png
- 发布.png、01_已发布.png
- 14红包.png
- 36合作、关系-线性.png
- M_隐私.png
- 代签协议.png
- 登录签到表.png
- 举手.png
- 客服.png
- 扩散.png
- 男老师.png
- 男学生.png
- 评价.png
- 钱币-彩.png
- 使用说明.png
- 收藏 - 未收藏.png
- 数译_群聊.png
- 小红花.png（多种状态）
- 置顶.png

#### 图标2（辅助功能）
位置：`终/图标2/`
- 更多辅助图标资源

---

## 七、技术架构总结

### 7.1 后端技术栈
- **框架**：ThinkPHP 5.x
- **CMS**：FastAdmin
- **数据库**：MySQL
- **支付**：微信支付
- **缓存**：Redis/File

### 7.2 前端技术栈
- **平台**：微信小程序
- **UI框架**：ColorUI
- **状态管理**：小程序原生
- **网络请求**：wx.request封装

### 7.3 核心依赖
- EasyWeChat（微信SDK）
- Guzzle HTTP
- Monolog（日志）
- Symfony Components

---

## 八、开发建议

### 8.1 待开发功能优先级

**高优先级（核心功能）：**
1. 评价功能 - 提升用户体验和信任度
2. 我的报名 - 求职者核心需求
3. 我的发布 - 企业/个人核心需求
4. 我的收藏 - 用户便捷操作

**中优先级（增强功能）：**
1. 我的名片 - 社交功能
2. 签到表 - 考勤管理

**低优先级（扩展功能）：**
1. 群聊 - 即时通讯功能（复杂度高）

### 8.2 开发注意事项
1. 遵循现有代码规范和目录结构
2. 复用现有模型和控制器逻辑
3. API接口统一使用 v1 版本
4. 前端使用 ColorUI 组件库保持风格统一
5. 注意微信小程序审核规范

### 8.3 数据库设计建议
1. 评价表：comment（已存在，需扩展字段）
2. 签到表：sign_record（新建）
3. 群聊表：chat_group、chat_message（新建）
4. 名片表：user_card（新建或扩展user表）

---

## 九、附录

### 9.1 项目目录清单
```
Lanshan_Zhaopin/
├── zhaopin.zzlanshan.site_f5FFR/    # 源代码目录
├── 功能页面/                         # 新功能UI设计
├── 终/                               # 终版UI设计
├── docs/                             # 文档目录
│   └── 项目梳理文档.md
├── zhaopin.zip                       # 源码压缩包
├── zhaopin.zzlanshan.site_f5FFR.tar.gz
├── 功能页面.zip
└── 主页面5.zip
```

### 9.2 关键文件路径
- 后端配置：`addons/zpwxsys/config.php`
- 后台菜单：`addons/zpwxsys/config/menu.php`
- 小程序配置：`addons/zpwxsys/wxapp/app.json`
- API基础控制器：`addons/zpwxsys/controller/BaseController.php`
- 微信支付：`addons/zpwxsys/library/WxPay/`

---

**文档生成时间**：2026-02-19  
**文档版本**：v1.0  
**维护人员**：开发团队
